<html>
<head>

<script type="text/javascript" src="http://maps.google.com/maps?file=api&amp;v=2&amp;key=ABQIAAAATsqJRPc-fdMO9ZXeCM4bpRT2yXp_ZAY8_ufC3CFXhHIE1NvwkxTgAcfA8DlQyaZwbRC5pzVkatdixw&sensor=false"></script>
<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.4.2/jquery.min.js"></script>
<script type="text/javascript" src="route.js"></script>
<script type="text/javascript">

  var route_names;
  var routes = new Array();
  var map;
  
  function route(route_name, func_name) {
    if (!routes[route_name]) {
      routes[route_name] = new Route(route_name);
    }

    routes[route_name].run(func_name);
  }

  function initialize() {
    if (GBrowserIsCompatible()) {
      map = new GMap2(document.getElementById("map_canvas"));
      map.setCenter(new GLatLng(51.508721, -0.131921), 12);
      map.setUIToDefault();
    }

    var to_display = ['1', '22', '344', '313', '100']

    $.each(to_display, function(i, route_name){
      route(route_name, 'build_route');
    });

    $.each(to_display, function(i, route_name){
      route(route_name, 'show_route');
    });

  }

  function load_all_routes() {
    $.getJSON('route_list.json', function(data) {
      route_names = data['AllRoutes']
    });
  }

</script>
</head>
<body onload="initialize()">
  <div id="map_canvas" style="width:100%; height:100%"></div>
</body>
</html>
